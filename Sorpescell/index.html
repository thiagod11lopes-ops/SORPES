<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#2563eb">
    <link rel="manifest" href="manifest.json">
    <title>SORPES Cell - Sistema de Organização Pessoal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="phone-device">
        <div class="phone-notch"></div>
        <div class="phone-screen">
            <div class="layout-principal">
                <header class="cabecalho">
                    <div class="cabecalho-esquerda">
                        <div class="cabecalho-titulo">
                            <div class="cabecalho-icone" aria-hidden="true">
                                <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="4" width="32" height="40" rx="2" stroke="currentColor" stroke-width="2" fill="none"/><rect x="18" y="2" width="12" height="6" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/><line x1="14" y1="16" x2="34" y2="16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><line x1="14" y1="24" x2="34" y2="24" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><line x1="14" y1="32" x2="26" y2="32" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><path d="M30 28l3 3 5-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                            </div>
                            <div class="cabecalho-titulo-texto">
                                <span class="titulo-marca">SORPES</span>
                                <span class="titulo-descricao">Sistema de Organização Pessoal</span>
                            </div>
                        </div>
                        <button type="button" class="btn-backup-header" id="btn-backup-header" title="Backup - último: nunca">
                            <span class="btn-backup-icone" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><polyline points="7 10 12 15 17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                            <span class="btn-backup-data" id="backup-ultima-data">nunca</span>
                        </button>
                    </div>
                    <div class="cabecalho-direita">
                        <div class="cabecalho-totais" id="cabecalho-totais">
                            <div class="totais-principais">
                                <div class="total-item" title="Gasto atual"><span class="total-label">Gasto</span><span id="total-gasto-atual" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item" title="Projeção de Saldo"><span class="total-label">Projeção</span><span id="total-projecao-saldo" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item total-geral" title="Saldo"><span class="total-label">Saldo</span><span id="total-geral" class="total-valor">R$ 0,00</span></div>
                            </div>
                            <div class="totais-extras" id="totais-extras" aria-hidden="true">
                                <div class="total-item" title="Gastos Fixos"><span class="total-label">Fixos</span><span id="total-fixos" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item" title="Gastos Variáveis"><span class="total-label">Variáveis</span><span id="total-variaveis" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item" title="Gastos Mensais"><span class="total-label">Mensais</span><span id="total-mensais" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item" title="Gasto Programado"><span class="total-label">Programado</span><span id="total-gastos-gerais" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item" title="Ganhos Registrados"><span class="total-label">Ganhos</span><span id="total-receitas" class="total-valor">R$ 0,00</span></div>
                                <div class="total-item" title="Ganhos Futuros"><span class="total-label">Futuros</span><span id="total-ganhos-futuros" class="total-valor">R$ 0,00</span></div>
                            </div>
                            <button type="button" class="btn-toggle-totais" id="btn-toggle-totais" title="Mostrar ou ocultar todos os totais" aria-expanded="false" aria-controls="totais-extras">
                                <span class="btn-toggle-texto">Ver mais</span>
                                <span class="btn-toggle-icone" aria-hidden="true">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
                                </span>
                            </button>
                        </div>
                    </div>
                </header>

                <div class="area-formularios">
                    <main class="container-principal">
                        <div class="barra-meses-topo">
                            <button type="button" class="btn-adicionar-mes" id="btn-adicionar-mes" title="Adicionar mês" aria-label="Adicionar mês">+ Mês</button>
                            <div class="barra-anos-meses">
                                <nav class="lista-anos-wrap">
                                    <span class="barra-label">Ano:</span>
                                    <nav class="lista-anos" id="lista-anos" aria-label="Navegação por ano"></nav>
                                </nav>
                                <nav class="lista-meses-wrap">
                                    <span class="barra-label">Mês:</span>
                                    <nav class="lista-meses" id="lista-meses" aria-label="Navegação por mês"></nav>
                                </nav>
                            </div>
                        </div>
                        <nav class="tabs-navegacao" id="tabs-navegacao">
                            <button type="button" class="tab-botao ativo" data-tab="fixos">Fixos</button>
                            <button type="button" class="tab-botao" data-tab="variaveis">Variáveis</button>
                            <button type="button" class="tab-botao" data-tab="mensais">Mensais</button>
                            <button type="button" class="tab-botao" data-tab="receitas">Ganhos</button>
                            <button type="button" class="tab-botao" data-tab="ganhos-futuros">Futuros</button>
                        </nav>

                        <div class="tab-paineis">
                            <div class="tab-painel ativo" id="painel-fixos">
                                <section class="bloco gastos-fixos">
                                    <h2>Gastos Fixos</h2>
                                    <div class="bloco-conteudo">
                                        <form class="formulario-gasto" data-tipo="fixo">
                                            <div class="campo"><label for="fixo-vencimento">Vencimento</label><input type="date" id="fixo-vencimento" name="vencimento" required></div>
                                            <div class="campo"><label for="fixo-descricao">Descrição</label><input type="text" id="fixo-descricao" name="descricao" placeholder="Ex: Internet, Aluguel..." required></div>
                                            <div class="campo"><label for="fixo-valor">Valor</label><input type="number" id="fixo-valor" name="valor" placeholder="0,00" step="0.01" min="0" required></div>
                                            <div class="form-botoes"><button type="submit" class="btn-adicionar">Adicionar</button><button type="button" class="btn-cancelar-edicao" style="display:none">Cancelar</button></div>
                                        </form>
                                        <table class="tabela-gastos" id="tabela-gastos-fixos"><thead><tr><th>Venc.</th><th>Descrição</th><th>Valor</th><th class="col-pago">Pago</th><th>Ações</th></tr></thead><tbody></tbody></table>
                                    </div>
                                </section>
                            </div>
                            <div class="tab-painel" id="painel-variaveis">
                                <section class="bloco gastos-variaveis">
                                    <h2>Gastos Variáveis</h2>
                                    <div class="bloco-conteudo">
                                        <form class="formulario-gasto" data-tipo="variavel">
                                            <div class="campo"><label for="variavel-vencimento">Vencimento</label><input type="date" id="variavel-vencimento" name="vencimento" required></div>
                                            <div class="campo"><label for="variavel-descricao">Descrição</label><input type="text" id="variavel-descricao" name="descricao" placeholder="Ex: Supermercado..." required></div>
                                            <div class="campo"><label for="variavel-valor">Valor</label><input type="number" id="variavel-valor" name="valor" placeholder="0,00" step="0.01" min="0" required></div>
                                            <div class="form-botoes"><button type="submit" class="btn-adicionar">Adicionar</button><button type="button" class="btn-cancelar-edicao" style="display:none">Cancelar</button></div>
                                        </form>
                                        <table class="tabela-gastos" id="tabela-gastos-variaveis"><thead><tr><th>Venc.</th><th>Descrição</th><th>Valor</th><th class="col-pago">Pago</th><th>Ações</th></tr></thead><tbody></tbody></table>
                                    </div>
                                </section>
                            </div>
                            <div class="tab-painel" id="painel-mensais">
                                <section class="bloco gastos-mensais">
                                    <h2>Gastos Mensais</h2>
                                    <div class="bloco-conteudo">
                                        <button type="button" class="btn-adicionar-gastos" id="btn-adicionar-gasto-mensal">+ Adicionar gastos</button>
                                        <div class="lista-gastos-mensais" id="lista-gastos-mensais"></div>
                                    </div>
                                </section>
                            </div>
                            <div class="tab-painel" id="painel-receitas">
                                <section class="bloco receitas">
                                    <h2>Ganhos Registrados</h2>
                                    <div class="bloco-conteudo">
                                        <form class="formulario-receita" id="form-receitas">
                                            <div class="campo"><label for="receita-data">Data</label><input type="date" id="receita-data" name="data" required></div>
                                            <div class="campo"><label for="receita-tipo">Tipo</label><input type="text" id="receita-tipo" name="tipo" placeholder="Ex: Salário..." required></div>
                                            <div class="campo"><label for="receita-valor">Valor</label><input type="number" id="receita-valor" name="valor" placeholder="0,00" step="0.01" min="0" required></div>
                                            <div class="form-botoes"><button type="submit" class="btn-adicionar">Adicionar</button><button type="button" class="btn-cancelar-edicao" style="display:none">Cancelar</button></div>
                                        </form>
                                        <table class="tabela-gastos" id="tabela-receitas"><thead><tr><th>Data</th><th>Tipo</th><th>Valor</th><th>Ações</th></tr></thead><tbody></tbody></table>
                                    </div>
                                </section>
                            </div>
                            <div class="tab-painel" id="painel-ganhos-futuros">
                                <section class="bloco ganhos-futuros">
                                    <h2>Ganhos futuros</h2>
                                    <div class="bloco-conteudo">
                                        <form class="formulario-receita" id="form-ganhos-futuros">
                                            <div class="campo"><label for="ganhos-futuros-data">Data</label><input type="date" id="ganhos-futuros-data" name="data" required></div>
                                            <div class="campo"><label for="ganhos-futuros-tipo">Tipo</label><input type="text" id="ganhos-futuros-tipo" name="tipo" placeholder="Ex: Salário..." required></div>
                                            <div class="campo"><label for="ganhos-futuros-valor">Valor</label><input type="number" id="ganhos-futuros-valor" name="valor" placeholder="0,00" step="0.01" min="0" required></div>
                                            <div class="form-botoes"><button type="submit" class="btn-adicionar">Adicionar</button><button type="button" class="btn-cancelar-edicao" style="display:none">Cancelar</button></div>
                                        </form>
                                        <table class="tabela-gastos" id="tabela-ganhos-futuros"><thead><tr><th>Data</th><th>Tipo</th><th>Valor</th><th>Ações</th></tr></thead><tbody></tbody></table>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal-aviso-dados" aria-hidden="true"><div class="modal"><h3>Atenção</h3><p id="modal-aviso-dados-texto">Existem dados registrados neste mês. Eles serão perdidos ao excluir a aba. Deseja continuar?</p><div class="modal-botoes"><button type="button" class="btn-modal btn-cancelar" id="modal-aviso-dados-cancelar">Cancelar</button><button type="button" class="btn-modal btn-adicionar" id="modal-aviso-dados-continuar">Continuar</button></div></div></div>
    <div class="modal-overlay" id="modal-excluir" aria-hidden="true"><div class="modal"><h3 id="modal-excluir-titulo">Excluir gasto</h3><p id="modal-excluir-texto">Tem certeza que deseja excluir?</p><div class="modal-botoes"><button type="button" class="btn-modal btn-cancelar" id="modal-cancelar">Cancelar</button><button type="button" class="btn-modal btn-excluir" id="modal-confirmar">Excluir</button></div></div></div>
    <div class="modal-overlay" id="modal-novo-mes" aria-hidden="true"><div class="modal"><h3>Adicionar mês</h3><p>Selecione o mês e o ano.</p><div class="campo"><label for="input-novo-mes">Mês / Ano</label><input type="month" id="input-novo-mes" name="mes" min="2020-01" max="2030-12"></div><p class="modal-aviso" id="modal-novo-mes-aviso" style="display:none;"></p><div class="modal-botoes"><button type="button" class="btn-modal btn-cancelar" id="modal-novo-mes-cancelar">Cancelar</button><button type="button" class="btn-modal btn-adicionar" id="modal-novo-mes-confirmar">Adicionar</button></div></div></div>
    <div class="modal-overlay overlay-backup-inicial" id="overlay-backup-inicial" aria-hidden="true"><div class="modal"><h3>Backup</h3><p id="backup-inicial-texto">Recomendamos fazer backup antes de continuar.</p><div class="modal-botoes"><button type="button" class="btn-modal btn-cancelar" id="backup-inicial-pular">Continuar sem backup</button><button type="button" class="btn-modal btn-adicionar" id="backup-inicial-fazer">Fazer backup agora</button></div></div></div>
    <div class="modal-overlay" id="modal-backup-menu" aria-hidden="true"><div class="modal"><h3>Backup</h3><p>Faça backup ou carregue um arquivo.</p><div class="modal-botoes modal-botoes-coluna"><button type="button" class="btn-modal btn-adicionar" id="backup-manual">Fazer backup</button><button type="button" class="btn-modal btn-backup-carregar" id="backup-carregar">Carregar backup</button><input type="file" id="input-backup-file" accept=".json,application/json" style="display:none"></div><div class="modal-botoes"><button type="button" class="btn-modal btn-cancelar" id="backup-menu-fechar">Fechar</button></div></div></div>
    <div class="modal-overlay" id="modal-copiar-mes-anterior" aria-hidden="true"><div class="modal"><h3>Copiar dados do mês anterior?</h3><p id="modal-copiar-mes-anterior-texto">Deseja copiar os dados para a nova aba?</p><p class="modal-copiar-detalhes">Serão copiados: Gastos fixos, variáveis e limites dos Gastos mensais.</p><div class="modal-botoes"><button type="button" class="btn-modal btn-cancelar" id="modal-copiar-nao">Não</button><button type="button" class="btn-modal btn-adicionar" id="modal-copiar-sim">Sim</button></div></div></div>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('sw.js').catch(function () {});
            });
        }
    </script>
</body>
</html>
